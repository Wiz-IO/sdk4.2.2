<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>BA Bluetooth API Reference: GATT</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MediaTek.PNG"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BA Bluetooth API Reference
   &#160;<span id="projectnumber">Rev 1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___b_a___bluetooth_b_l_e_g_a_t_t.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">GATT<div class="ingroups"><a class="el" href="group___b_a___bluetooth.html">BA_Bluetooth</a> &raquo; <a class="el" href="group___b_a___bluetooth_b_l_e.html">BLE</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This section introduces the GATT APIs including details on how to use this module, enums, structures and functions.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>This section introduces the GATT APIs including details on how to use this module, enums, structures and functions. </p>
<p>The Generic Attribute Profile (GATT) defines a service framework using the Attribute Protocol, that provides procedures and formats of services and their characteristics, including discovering, reading, writing, notifying and indicating characteristics, as well as configuring the broadcast of characteristics.</p>
<h1>Terms and Acronyms </h1>
<table class="doxtable">
<tr>
<th>Terms </th><th>Details  </th></tr>
<tr>
<td><b>MTU</b> </td><td>Maximum Transmission Unit, specifies the maximum size of a packet to send. </td></tr>
<tr>
<td><b>GATTC</b> </td><td>GATT Client, is the device that initiates commands and requests towards the server. </td></tr>
<tr>
<td><b>GATTS</b> </td><td>GATT Server, is the device that accepts incoming commands and requests from the client. </td></tr>
<tr>
<td><b>SM</b> </td><td>Security Manager defines the protocol and behavior to manage pairing, authentication and encryption between low energy devices. </td></tr>
<tr>
<td><b>MITM</b> </td><td>Man-in-the-middle attack, is an attack where the attacker secretly relays and possibly alters the communication between two parties who believe they are directly communicating with each other. </td></tr>
</table>
<h1><a class="anchor" id="ble_gatt_api_usage"></a>
How to use this module</h1>
<ul>
<li>Step1: Mandatory, get and save the connection ID from BLE_GAP once a BLE device is connected.<ul>
<li>Sample code: <div class="fragment"><div class="line"><span class="keyword">static</span> uint16_t conn_id = 0;</div><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___b_a___bluetooth_b_l_e_g_a_p.html#ga8bb83e59e8626a9cbb68ff4bae406c49">ble_gap_common_callback</a>(<a class="code" href="group___b_a___bluetoothble__events__enum.html#gacfdd3b8f3b7fac98bc2fe221de579bad">ble_event_t</a> event_id, <span class="keyword">const</span> <span class="keywordtype">void</span>* param)</div><div class="line">{</div><div class="line">    <span class="keywordflow">switch</span> (event_id) {</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579badae65cc9885ba5010cf9692cf87bc93018">BLE_GAP_CONNECTED_IND</a>: {</div><div class="line">            <a class="code" href="structble__gap__connected__ind__t.html">ble_gap_connected_ind_t</a> *evt;</div><div class="line">            evt = (<a class="code" href="structble__gap__connected__ind__t.html">ble_gap_connected_ind_t</a> *)param;</div><div class="line">            conn_id = evt-&gt;<a class="code" href="structble__gap__connected__ind__t.html#a71a8a39270ae1bf01ad381dca0e95c1b">conn_id</a>;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">default</span>:</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
<li>Step2: Mandatory, implement the API <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga61cd4baecdb34ea599d649f511e93034">ble_gatts_common_callback()</a> to handle the events sent by GATT client. An event handler is provided as a sample code for each API.<ul>
<li>Sample code: <div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga61cd4baecdb34ea599d649f511e93034">ble_gatts_common_callback</a>(<a class="code" href="group___b_a___bluetoothble__events__enum.html#gacfdd3b8f3b7fac98bc2fe221de579bad">ble_event_t</a> event_id, <span class="keyword">const</span> <span class="keywordtype">void</span> *param)</div><div class="line">{</div><div class="line">    <span class="keywordflow">switch</span> (event_id) {</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada30cec6130d8a6a5c7c11c9dbabad5750">BLE_GATT_EXCHANGE_MTU_REQ</a>: {</div><div class="line">            <a class="code" href="structble__gatt__exchange__mtu__req__t.html">ble_gatt_exchange_mtu_req_t</a> *req = (<a class="code" href="structble__gatt__exchange__mtu__req__t.html">ble_gatt_exchange_mtu_req_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579badaaf935d98230dfe8f9c631142741c487c">BLE_GATTS_HANDLE_VALUE_CNF</a>: {</div><div class="line">            <a class="code" href="structble__gatts__handle__value__cnf__t.html">ble_gatts_handle_value_cnf_t</a> *hvc = (<a class="code" href="structble__gatts__handle__value__cnf__t.html">ble_gatts_handle_value_cnf_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada643c84202f33619e099663682197d5fc">BLE_GATTS_READ_REQ</a>: {</div><div class="line">            <a class="code" href="structble__gatts__read__req__t.html">ble_gatts_read_req_t</a> *read_req = (<a class="code" href="structble__gatts__read__req__t.html">ble_gatts_read_req_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada1091a9fe482b03a8c4d4772569d3d466">BLE_GATTS_WRITE_REQ</a>: {</div><div class="line">            <a class="code" href="structble__gatts__write__req__t.html">ble_gatts_write_req_t</a> *write_req = (<a class="code" href="structble__gatts__write__req__t.html">ble_gatts_write_req_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada838d03fe939c572520a9ba7fffbb162c">BLE_GATTS_EXECUTE_WRITE_REQ</a>: {</div><div class="line">            <a class="code" href="structble__gatts__execute__write__req__t.html">ble_gatts_execute_write_req_t</a> *req = (<a class="code" href="structble__gatts__execute__write__req__t.html">ble_gatts_execute_write_req_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">default</span>:</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
<li>Step3: Mandatory, implement the API <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> to handle the events sent by GATT server. An event handler is provided as a sample code for each API.<ul>
<li>Sample code: <div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback</a>(<a class="code" href="group___b_a___bluetoothble__events__enum.html#gacfdd3b8f3b7fac98bc2fe221de579bad">ble_event_t</a> event_id, <span class="keyword">const</span> <span class="keywordtype">void</span> *param)</div><div class="line">{</div><div class="line">    <span class="keywordflow">switch</span> (event_id) {</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada882b4a80b6712222bbd58800e1016c77">BLE_GATT_EXCHANGE_MTU_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gatt__exchange__mtu__rsp__t.html">ble_gatt_exchange_mtu_rsp_t</a> *mtu_rsp = (<a class="code" href="structble__gatt__exchange__mtu__rsp__t.html">ble_gatt_exchange_mtu_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada638bbdda360108fb7684dc095c03e31e">BLE_GATTC_DISCOVER_PRIMARY_SERVICES_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gattc__discover__service__rsp__t.html">ble_gattc_discover_service_rsp_t</a> *srvc_rsp = (<a class="code" href="structble__gattc__discover__service__rsp__t.html">ble_gattc_discover_service_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579badabd5d1cc7ecdb9302fa2c68931c8a0c6a">BLE_GATTC_FIND_INCLUDED_SERVICES_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gattc__find__included__service__rsp__t.html">ble_gattc_find_included_service_rsp_t</a> *srvc_rsp = (<a class="code" href="structble__gattc__find__included__service__rsp__t.html">ble_gattc_find_included_service_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada3cae5f8d82153762215e8adf51fab5f0">BLE_GATTC_DISCOVER_CHAR_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gattc__discover__char__rsp__t.html">ble_gattc_discover_char_rsp_t</a> *char_rsp = (<a class="code" href="structble__gattc__discover__char__rsp__t.html">ble_gattc_discover_char_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada6835ee97bc1fc0e13f231c13b1ffd63b">BLE_GATTC_DISCOVER_CHAR_BY_UUID_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gattc__discover__char__rsp__t.html">ble_gattc_discover_char_rsp_t</a> *char_rsp = (<a class="code" href="structble__gattc__discover__char__rsp__t.html">ble_gattc_discover_char_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada36781ea7349b188e17d725b66c73d412">BLE_GATTC_DISCOVER_DESCRIPTORS_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gattc__discover__descriptor__rsp__t.html">ble_gattc_discover_descriptor_rsp_t</a> *rsp = (<a class="code" href="structble__gattc__discover__descriptor__rsp__t.html">ble_gattc_discover_descriptor_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada184cca7222abc07432a182d00a6f515f">BLE_GATTC_READ_CHAR_VALUE_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gattc__read__char__value__rsp__t.html">ble_gattc_read_char_value_rsp_t</a> *rsp = (<a class="code" href="structble__gattc__read__char__value__rsp__t.html">ble_gattc_read_char_value_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada75962678c31e14b58f4473b15750bdea">BLE_GATTC_READ_CHAR_VALUE_BY_UUID_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gattc__read__char__value__rsp__t.html">ble_gattc_read_char_value_rsp_t</a> *rsp = (<a class="code" href="structble__gattc__read__char__value__rsp__t.html">ble_gattc_read_char_value_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada978b76f2f8f261518fe20699725fcbcf">BLE_GATTC_READ_LONG_CHAR_VALUE_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gattc__read__char__value__rsp__t.html">ble_gattc_read_char_value_rsp_t</a> *rsp = (<a class="code" href="structble__gattc__read__char__value__rsp__t.html">ble_gattc_read_char_value_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579badaad847907e36e68ceadd50d4fc44fad6b">BLE_GATTC_READ_MULTIPLE_CHAR_VALUE_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gattc__read__multiple__char__value__rsp__t.html">ble_gattc_read_multiple_char_value_rsp_t</a> *rsp = (<a class="code" href="structble__gattc__read__multiple__char__value__rsp__t.html">ble_gattc_read_multiple_char_value_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada2128ed65a94c583c52e2329317033bb1">BLE_GATTC_READ_DESCRIPTOR_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gattc__read__char__value__rsp__t.html">ble_gattc_read_char_descriptor_rsp_t</a> *rsp = (<a class="code" href="structble__gattc__read__char__value__rsp__t.html">ble_gattc_read_char_descriptor_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579badacf13e2a41966c434b03e367642c50eac">BLE_GATTC_WRITE_DESCRIPTOR_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gattc__write__rsp__t.html">ble_gattc_write_rsp_t</a> *rsp = (<a class="code" href="structble__gattc__write__rsp__t.html">ble_gattc_write_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada73f9c40d3f62666139a128e6acdb33d6">BLE_GATTC_WRITE_CHAR_VALUE_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gattc__write__rsp__t.html">ble_gattc_write_rsp_t</a> *rsp = (<a class="code" href="structble__gattc__write__rsp__t.html">ble_gattc_write_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579badad21600580b87aefc39015685a99d11de">BLE_GATTC_PREPARE_WRITE_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gattc__prepare__write__rsp__t.html">ble_gattc_prepare_write_rsp_t</a> *rsp = (<a class="code" href="structble__gattc__prepare__write__rsp__t.html">ble_gattc_prepare_write_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579badaff7d4ef663ea0ddb305a358a7ea1956f">BLE_GATTC_EXECUTE_WRITE_RSP</a>: {</div><div class="line">            <a class="code" href="structble__gattc__execute__write__rsp__t.html">ble_gattc_execute_write_rsp_t</a> *rsp = (<a class="code" href="structble__gattc__execute__write__rsp__t.html">ble_gattc_execute_write_rsp_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579bada7478feb9c00269cca4fa622b7423fd85">BLE_GATTC_HANDLE_VALUE_NOTIFICATION</a>: {</div><div class="line">            <a class="code" href="structble__gattc__handle__value__ind__t.html">ble_gattc_handle_value_ind_t</a> *hvx = (<a class="code" href="structble__gattc__handle__value__ind__t.html">ble_gattc_handle_value_ind_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___b_a___bluetoothble__events__enum.html#ggacfdd3b8f3b7fac98bc2fe221de579badafc15b0ea0fd0f8cc8e3301eb1a8a43a8">BLE_GATTC_HANDLE_VALUE_IND</a>: {</div><div class="line">            <a class="code" href="structble__gattc__handle__value__ind__t.html">ble_gattc_handle_value_ind_t</a> *hvx = (<a class="code" href="structble__gattc__handle__value__ind__t.html">ble_gattc_handle_value_ind_t</a> *)param;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">default</span>:</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> </li>
</ul>
</li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab881eab06066c48bc1be71fd715aeb71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gab881eab06066c48bc1be71fd715aeb71">ble_gatt_exchange_mtu</a> (uint16_t conn_id, uint16_t rx_mtu)</td></tr>
<tr class="separator:gab881eab06066c48bc1be71fd715aeb71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6afd136f2ba1499f924b7de8b9e16ae4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga6afd136f2ba1499f924b7de8b9e16ae4">ble_gatt_confirm_exchange_mtu</a> (uint16_t conn_id, uint16_t server_rx_mtu)</td></tr>
<tr class="separator:ga6afd136f2ba1499f924b7de8b9e16ae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5950ef9edb12f98f4978d8a359b60ab7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5950ef9edb12f98f4978d8a359b60ab7">ble_gatt_get_mtu_size</a> (uint16_t conn_id, uint16_t *mtu_size)</td></tr>
<tr class="separator:ga5950ef9edb12f98f4978d8a359b60ab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40e889ebb86db8f15c67509a763d353f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga40e889ebb86db8f15c67509a763d353f">ble_gattc_discover_primary_services</a> (uint16_t conn_id, uint16_t start_handle, uint16_t end_handle)</td></tr>
<tr class="separator:ga40e889ebb86db8f15c67509a763d353f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9366245043059770d8d79d02500754ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga9366245043059770d8d79d02500754ff">ble_gattc_discover_primary_services_by_uuid</a> (uint16_t conn_id, uint16_t start_handle, uint16_t end_handle, const uint8_t *uuid128)</td></tr>
<tr class="separator:ga9366245043059770d8d79d02500754ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87d75115805a54c7ed38aae02ea9f593"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga87d75115805a54c7ed38aae02ea9f593">ble_gattc_find_included_services</a> (uint16_t conn_id, uint16_t start_handle, uint16_t end_handle)</td></tr>
<tr class="separator:ga87d75115805a54c7ed38aae02ea9f593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26f0a83947c5ff61aeb318fa552d057d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga26f0a83947c5ff61aeb318fa552d057d">ble_gattc_discover_char</a> (uint16_t conn_id, uint16_t start_handle, uint16_t end_handle)</td></tr>
<tr class="separator:ga26f0a83947c5ff61aeb318fa552d057d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga680078a4e55db6422f25172cf0e88fea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga680078a4e55db6422f25172cf0e88fea">ble_gattc_discover_char_by_uuid</a> (uint16_t conn_id, uint16_t start_handle, uint16_t end_handle, const uint8_t *uuid128)</td></tr>
<tr class="separator:ga680078a4e55db6422f25172cf0e88fea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e8ee82c39667d7887f4e83d78d60594"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga7e8ee82c39667d7887f4e83d78d60594">ble_gattc_discover_descriptors</a> (uint16_t conn_id, uint16_t start_handle, uint16_t end_handle)</td></tr>
<tr class="separator:ga7e8ee82c39667d7887f4e83d78d60594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70afac7fd6f3c0f9ccda593e8542edec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga70afac7fd6f3c0f9ccda593e8542edec">ble_gattc_read_char_value</a> (uint16_t conn_id, uint16_t handle)</td></tr>
<tr class="separator:ga70afac7fd6f3c0f9ccda593e8542edec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga944fb903c299b5c959ba861658d09919"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga944fb903c299b5c959ba861658d09919">ble_gattc_read_char_value_by_uuid</a> (uint16_t conn_id, uint16_t start_handle, uint16_t end_handle, const uint8_t *uuid128)</td></tr>
<tr class="separator:ga944fb903c299b5c959ba861658d09919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d0915154c82a37c2067986366260cef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5d0915154c82a37c2067986366260cef">ble_gattc_read_long_char_value</a> (uint16_t conn_id, uint16_t handle, uint16_t offset)</td></tr>
<tr class="separator:ga5d0915154c82a37c2067986366260cef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6fe142d28461d5e21c1b186ec711403"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gad6fe142d28461d5e21c1b186ec711403">ble_gattc_read_multiple_char_value</a> (uint16_t conn_id, uint16_t count, const uint16_t *handles)</td></tr>
<tr class="separator:gad6fe142d28461d5e21c1b186ec711403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1648d37381dfc8fb0d0ecda55dcf3de0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga1648d37381dfc8fb0d0ecda55dcf3de0">ble_gattc_write_char_value</a> (uint16_t conn_id, <a class="el" href="group___b_a___bluetoothble__gatt__enum.html#ga9cb4cf8a0c95c7882256c11807621375">ble_gatt_write_type_t</a> flags, uint16_t handle, uint16_t size, const uint8_t *value)</td></tr>
<tr class="separator:ga1648d37381dfc8fb0d0ecda55dcf3de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec243ece8b66479b40f2dff2dba22ddb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gaec243ece8b66479b40f2dff2dba22ddb">ble_gattc_read_descriptor_value</a> (uint16_t conn_id, uint16_t handle)</td></tr>
<tr class="separator:gaec243ece8b66479b40f2dff2dba22ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31b8ebe742ad3894c6decd3c141a0ff8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga31b8ebe742ad3894c6decd3c141a0ff8">ble_gattc_read_long_descriptor_value</a> (uint16_t conn_id, uint16_t handle, uint16_t offset)</td></tr>
<tr class="separator:ga31b8ebe742ad3894c6decd3c141a0ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad55e7e5320eb52ba6aa1bdf842fb2855"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gad55e7e5320eb52ba6aa1bdf842fb2855">ble_gattc_write_descriptor_value</a> (uint16_t conn_id, uint16_t handle, uint16_t size, const uint8_t *value)</td></tr>
<tr class="separator:gad55e7e5320eb52ba6aa1bdf842fb2855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga105da84e4828ff9c6ab4381994c2b8da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga105da84e4828ff9c6ab4381994c2b8da">ble_gattc_prepare_write</a> (uint16_t conn_id, uint16_t handle, uint16_t offset, uint16_t size, const uint8_t *value, uint8_t is_reliable)</td></tr>
<tr class="separator:ga105da84e4828ff9c6ab4381994c2b8da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3850ebfbf06c2f668776915ea56a6e70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga3850ebfbf06c2f668776915ea56a6e70">ble_gattc_execute_write</a> (uint16_t conn_id, uint8_t is_execute)</td></tr>
<tr class="separator:ga3850ebfbf06c2f668776915ea56a6e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga480f2b0c6c14ee9aa4a90f8147187450"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga480f2b0c6c14ee9aa4a90f8147187450">ble_gattc_send_handle_value_confirmation</a> (uint16_t conn_id, uint16_t handle)</td></tr>
<tr class="separator:ga480f2b0c6c14ee9aa4a90f8147187450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae302607e33c7e39a0d411c3df227c039"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gae302607e33c7e39a0d411c3df227c039">ble_gatts_add_service</a> (<a class="el" href="group___b_a___bluetoothble__gatt__enum.html#ga017e656ba5c762fa1d36587949d3f56c">ble_gatt_service_type_t</a> type, const uint8_t *uuid128, uint16_t num_handle, uint16_t *handle)</td></tr>
<tr class="separator:gae302607e33c7e39a0d411c3df227c039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a7d4e4b0e1dee2d04193cf525d5e605"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga9a7d4e4b0e1dee2d04193cf525d5e605">ble_gatts_add_included_service</a> (uint16_t service_handle, uint16_t include_service_handle, uint16_t *handle)</td></tr>
<tr class="separator:ga9a7d4e4b0e1dee2d04193cf525d5e605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab61f5a87e396374e471e5de87e76d16e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gab61f5a87e396374e471e5de87e76d16e">ble_gatts_add_char</a> (uint16_t service_handle, const <a class="el" href="structble__gatt__char__t.html">ble_gatt_char_t</a> *char_info, uint32_t permission, uint16_t *value_handle)</td></tr>
<tr class="separator:gab61f5a87e396374e471e5de87e76d16e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea6c06c59c7e323f3974bf85c0c8b41f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gaea6c06c59c7e323f3974bf85c0c8b41f">ble_gatts_add_descriptor</a> (uint16_t service_handle, const <a class="el" href="structble__gatt__descriptor__t.html">ble_gatt_descriptor_t</a> *descr, uint32_t permission, uint16_t *handle)</td></tr>
<tr class="separator:gaea6c06c59c7e323f3974bf85c0c8b41f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf722e71f1112914a741d9aca0cbe54f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gaf722e71f1112914a741d9aca0cbe54f3">ble_gatts_send_service_change_indication</a> (uint16_t conn_id, uint16_t handle)</td></tr>
<tr class="separator:gaf722e71f1112914a741d9aca0cbe54f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaacc9df3f6ce300b1c5a6bbee28ca609c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gaacc9df3f6ce300b1c5a6bbee28ca609c">ble_gatts_send_handle_value_indication</a> (uint16_t conn_id, uint16_t handle, uint8_t need_confirm, uint16_t value_len, const uint8_t *value)</td></tr>
<tr class="separator:gaacc9df3f6ce300b1c5a6bbee28ca609c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8132460cc25f32f934be20621a5c9146"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga8132460cc25f32f934be20621a5c9146">ble_gatts_read_response</a> (uint16_t conn_id, <a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> result, uint16_t handle, uint16_t offset, uint16_t length, const uint8_t *data)</td></tr>
<tr class="separator:ga8132460cc25f32f934be20621a5c9146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19f37686f8355504f110e8e250c2b0af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga19f37686f8355504f110e8e250c2b0af">ble_gatts_write_response</a> (uint16_t conn_id, <a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> result)</td></tr>
<tr class="separator:ga19f37686f8355504f110e8e250c2b0af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02aba578a2d0d4ed2b300634385b96d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga02aba578a2d0d4ed2b300634385b96d6">ble_gatts_prepare_write_response</a> (uint16_t conn_id, <a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> result, uint16_t handle, uint16_t offset)</td></tr>
<tr class="separator:ga02aba578a2d0d4ed2b300634385b96d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga743e46fa914366e6c1be0a7d49eccc40"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga743e46fa914366e6c1be0a7d49eccc40">ble_gatts_execute_write_response</a> (uint16_t conn_id, <a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> result, uint16_t handle)</td></tr>
<tr class="separator:ga743e46fa914366e6c1be0a7d49eccc40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5936b180f1c5719704ced81808c0e8fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback</a> (<a class="el" href="group___b_a___bluetoothble__events__enum.html#gacfdd3b8f3b7fac98bc2fe221de579bad">ble_event_t</a> event_id, const void *param)</td></tr>
<tr class="separator:ga5936b180f1c5719704ced81808c0e8fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61cd4baecdb34ea599d649f511e93034"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga61cd4baecdb34ea599d649f511e93034">ble_gatts_common_callback</a> (<a class="el" href="group___b_a___bluetoothble__events__enum.html#gacfdd3b8f3b7fac98bc2fe221de579bad">ble_event_t</a> event_id, const void *param)</td></tr>
<tr class="separator:ga61cd4baecdb34ea599d649f511e93034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe231b4e4eb89ab48f8469a0a28fbb70"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gabe231b4e4eb89ab48f8469a0a28fbb70">BLE_GATT_CHAR_PROP_BROADCAST</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:gabe231b4e4eb89ab48f8469a0a28fbb70"><td class="mdescLeft">&#160;</td><td class="mdescRight">bt_gatt_define Define  <a href="#gabe231b4e4eb89ab48f8469a0a28fbb70">More...</a><br /></td></tr>
<tr class="separator:gabe231b4e4eb89ab48f8469a0a28fbb70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6e895e0c3ae6d579413422e4b92e848"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gaf6e895e0c3ae6d579413422e4b92e848">BLE_GATT_CHAR_PROP_READ</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="memdesc:gaf6e895e0c3ae6d579413422e4b92e848"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, enables to read the characteristic value.  <a href="#gaf6e895e0c3ae6d579413422e4b92e848">More...</a><br /></td></tr>
<tr class="separator:gaf6e895e0c3ae6d579413422e4b92e848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c23f14781e8614579e96e18b30474d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5c23f14781e8614579e96e18b30474d3">BLE_GATT_CHAR_PROP_WRITE_WO_RESPONSE</a>&#160;&#160;&#160;0x04</td></tr>
<tr class="memdesc:ga5c23f14781e8614579e96e18b30474d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, enables to write the characteristic value with no response.  <a href="#ga5c23f14781e8614579e96e18b30474d3">More...</a><br /></td></tr>
<tr class="separator:ga5c23f14781e8614579e96e18b30474d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga937a992d914a874b1a8c3e811f92c595"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga937a992d914a874b1a8c3e811f92c595">BLE_GATT_CHAR_PROP_WRITE</a>&#160;&#160;&#160;0x08</td></tr>
<tr class="memdesc:ga937a992d914a874b1a8c3e811f92c595"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, enables to write the characteristic value with a response.  <a href="#ga937a992d914a874b1a8c3e811f92c595">More...</a><br /></td></tr>
<tr class="separator:ga937a992d914a874b1a8c3e811f92c595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga016dc2532030d6321565bd8bf4dd783a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga016dc2532030d6321565bd8bf4dd783a">BLE_GATT_CHAR_PROP_NOTIFY</a>&#160;&#160;&#160;0x10</td></tr>
<tr class="memdesc:ga016dc2532030d6321565bd8bf4dd783a"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, permits notifications of a characteristic value with no acknowledgement.  <a href="#ga016dc2532030d6321565bd8bf4dd783a">More...</a><br /></td></tr>
<tr class="separator:ga016dc2532030d6321565bd8bf4dd783a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4e1500a38c7e337f8b54977c3f8dc00"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gae4e1500a38c7e337f8b54977c3f8dc00">BLE_GATT_CHAR_PROP_INDICATE</a>&#160;&#160;&#160;0x20</td></tr>
<tr class="memdesc:gae4e1500a38c7e337f8b54977c3f8dc00"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, permits indications of a characteristic value with an acknowledgement.  <a href="#gae4e1500a38c7e337f8b54977c3f8dc00">More...</a><br /></td></tr>
<tr class="separator:gae4e1500a38c7e337f8b54977c3f8dc00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad98109e5c104f3c7441504aff56fcb03"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gad98109e5c104f3c7441504aff56fcb03">BLE_GATT_CHAR_PROP_SIGNED_WRITE</a>&#160;&#160;&#160;0x40</td></tr>
<tr class="memdesc:gad98109e5c104f3c7441504aff56fcb03"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, permits signed writes to the characteristic value.  <a href="#gad98109e5c104f3c7441504aff56fcb03">More...</a><br /></td></tr>
<tr class="separator:gad98109e5c104f3c7441504aff56fcb03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c3348b2919997d32e77da55f81b7a96"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5c3348b2919997d32e77da55f81b7a96">BLE_GATT_EXT_PROP</a>&#160;&#160;&#160;0x80</td></tr>
<tr class="memdesc:ga5c3348b2919997d32e77da55f81b7a96"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, additional characteristic properties are defined in the characteristic extended properties descriptor.  <a href="#ga5c3348b2919997d32e77da55f81b7a96">More...</a><br /></td></tr>
<tr class="separator:ga5c3348b2919997d32e77da55f81b7a96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___b_a___bluetoothbt__gatt__define"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetoothbt__gatt__define.html">Define</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___b_a___bluetoothble__gatt__enum"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetoothble__gatt__enum.html">Enum</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___b_a___bluetoothble__gatt__struct"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetoothble__gatt__struct.html">Struct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___b_a___bluetoothbt__gatt__typedef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_a___bluetoothbt__gatt__typedef.html">Typedef</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gabe231b4e4eb89ab48f8469a0a28fbb70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLE_GATT_CHAR_PROP_BROADCAST&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>bt_gatt_define Define </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000049">Deprecated:</a></b></dt><dd>The GATT characteristic properties.</dd></dl>
<p>If set, enables to broadcast the characteristic value configured by the server characteristic configuration descriptor. </p>

</div>
</div>
<a class="anchor" id="gae4e1500a38c7e337f8b54977c3f8dc00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLE_GATT_CHAR_PROP_INDICATE&#160;&#160;&#160;0x20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set, permits indications of a characteristic value with an acknowledgement. </p>

</div>
</div>
<a class="anchor" id="ga016dc2532030d6321565bd8bf4dd783a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLE_GATT_CHAR_PROP_NOTIFY&#160;&#160;&#160;0x10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set, permits notifications of a characteristic value with no acknowledgement. </p>

</div>
</div>
<a class="anchor" id="gaf6e895e0c3ae6d579413422e4b92e848"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLE_GATT_CHAR_PROP_READ&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set, enables to read the characteristic value. </p>

</div>
</div>
<a class="anchor" id="gad98109e5c104f3c7441504aff56fcb03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLE_GATT_CHAR_PROP_SIGNED_WRITE&#160;&#160;&#160;0x40</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set, permits signed writes to the characteristic value. </p>

</div>
</div>
<a class="anchor" id="ga937a992d914a874b1a8c3e811f92c595"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLE_GATT_CHAR_PROP_WRITE&#160;&#160;&#160;0x08</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set, enables to write the characteristic value with a response. </p>

</div>
</div>
<a class="anchor" id="ga5c23f14781e8614579e96e18b30474d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLE_GATT_CHAR_PROP_WRITE_WO_RESPONSE&#160;&#160;&#160;0x04</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set, enables to write the characteristic value with no response. </p>

</div>
</div>
<a class="anchor" id="ga5c3348b2919997d32e77da55f81b7a96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLE_GATT_EXT_PROP&#160;&#160;&#160;0x80</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set, additional characteristic properties are defined in the characteristic extended properties descriptor. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga6afd136f2ba1499f924b7de8b9e16ae4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gatt_confirm_exchange_mtu </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>server_rx_mtu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000078">Deprecated:</a></b></dt><dd>In this function, the server sends a confirmation to exchange the MTU size according to the client's request.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">server_rx_mtu</td><td>is the negotiatory RX MTU size from server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gab881eab06066c48bc1be71fd715aeb71">ble_gatt_exchange_mtu()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE devices is connected. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;ble_status_t status;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;void ble_gatts_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;{</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  switch (event_id) {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;      case BLE_GATT_EXCHANGE_MTU_REQ: {</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;          ble_gatt_exchange_mtu_req_t *mtu_req = (ble_gatt_exchange_mtu_req_t *)param;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;          uint16_t mtu = 40;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;          // Should check if we could meets the request&#39;s MTU.</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;          if (mtu_req-&gt;expected_mtu &lt; mtu) {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              mtu = mtu_req-&gt;expected_mtu;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;          }</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;          ble_gatt_confirm_exchange_mtu(mtu_req-&gt;conn_id, mtu);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;          break;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;  }</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;  default:</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;           break;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    }</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="gab881eab06066c48bc1be71fd715aeb71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gatt_exchange_mtu </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>rx_mtu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000077">Deprecated:</a></b></dt><dd>In this function, the client sends a request to exchange MTU size with the server, then the server replies with a response.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rx_mtu</td><td>is the expected RX MTU for the client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga6afd136f2ba1499f924b7de8b9e16ae4">ble_gatt_confirm_exchange_mtu()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t rx_mtu = 28;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ble_status_t status;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;status = ble_gatt_exchange_mtu(conn_id, rx_mtu);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;if (status == BLE_STATUS_GATT_PENDING) {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    // A request has queued to send, wait for a confirmation from the server</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;} else if (status == BLE_STATUS_GATT_NO_CONNECTION) {</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;   // No GATT connection for such conn_id</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;} else if (status == BLE_STATUS_GATT_INVALID_PARAM) {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    // Input param rx_mtu is invalid</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;} else if (status == BLE_STATUS_GATT_NO_RESOURCES) {</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    // There is no resource to send a request</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;{</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;          case BLE_GATT_EXCHANGE_MTU_RSP: {</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;              ble_gatt_exchange_mtu_rsp_t *mtu_rsp = (ble_gatt_exchange_mtu_rsp_t *)param;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;              OS_Report(&quot;[GATT]Exchange mtu rsp, conn_id:%x, result:%d, mtu:%d&quot;, mtu_rsp-&gt;conn_id, mtu_rsp-&gt;result, mtu_rsp-&gt;expected_mtu);</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;              break;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;          }</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;     }</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga5950ef9edb12f98f4978d8a359b60ab7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gatt_get_mtu_size </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>mtu_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000079">Deprecated:</a></b></dt><dd>Get negotiatory MTU size for the ATT connection between client and server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mtu_size</td><td>is the negotiatory MTU size for both client and server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t mtu_size;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ble_status_t status;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;status = ble_gatt_get_mtu_size(conn_id, mtu_size);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;if (status == BLE_STATUS_GATT_SUCCESS) {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    // User can use mtu_size.</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga5936b180f1c5719704ced81808c0e8fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ble_gattc_common_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___b_a___bluetoothble__events__enum.html#gacfdd3b8f3b7fac98bc2fe221de579bad">ble_event_t</a>&#160;</td>
          <td class="paramname"><em>event_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000107">Deprecated:</a></b></dt><dd>Static callback for GATT client user to listen event from server, client user needs to implement this API.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event_id</td><td>is notification sent by GATT server. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>is parameter pointer as per the events. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="ga26f0a83947c5ff61aeb318fa552d057d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_discover_char </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>start_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>end_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000083">Deprecated:</a></b></dt><dd>Client sends a request to discover characteristics from server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start_handle</td><td>is start handle, e.g.: 0x0001. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">end_handle</td><td>is end handle e.g.: 0xFFFF. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t start_handle = 0x0001;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;uint16_t  end_handle = 0x0005;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;ble_gattc_discover_char(conn_id, start_handle, end_handle);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;{</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;          case BLE_GATTC_DISCOVER_CHAR_RSP: {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              ble_gattc_discover_char_rsp_t *char_rsp = (ble_gattc_discover_char_rsp_t *)param;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              int i;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              if (BLE_STATUS_GATT_SUCCESS == char_rsp-&gt;result) {</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                  OS_Report(&quot;[GATT]Discover Character success-conn_id:%x-count:%d\n&quot;, char_rsp-&gt;conn_id, char_rsp-&gt;count);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                  for (i = 0; i &lt; char_rsp-&gt;count; ++i) {</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                      OS_Report(&quot;[GATT]Discover Character: %d (handle:%x, value_handle:%x)\n&quot;, i, char_rsp-&gt;char_info[i].handle, char_rsp-&gt;char_info[i].value_handle);</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                  }</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;              } else if (BLE_STATUS_GATT_CONNECTION_DISCONNECT != char_rsp-&gt;result) {</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;                  OS_Report(&quot;[GATT]Discover Character fail-conn_id:%x-error:%x-handle:%x&quot;, char_rsp-&gt;conn_id, char_rsp-&gt;result, char_rsp-&gt;char_info[0].handle);</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;              }</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;          }</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;          break;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;      }</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga680078a4e55db6422f25172cf0e88fea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_discover_char_by_uuid </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>start_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>end_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>uuid128</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000084">Deprecated:</a></b></dt><dd>Client sends a request to discover characteristics by UUID from server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start_handle</td><td>is start handle, e.g.: 0x0001. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">end_handle</td><td>is end handle e.g.: 0xFFFF. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid128</td><td>is 128-bit UUID data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t start_handle = 0x0001;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;uint16_t  end_handle = 0x0005;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;uint8_t uuid128[16] = {0xfb, 0x34, 0x9b, 0x5f, 0x80, 0x00, 0x00, 0x80, 0x00, 0x10, 0x00, 0x00, 0x00, 0x2a, 0x00, 0x00};</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;ble_gattc_discover_char_by_uuid(conn_id, start_handle, end_handle, uuid128);</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;{</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;          case BLE_GATTC_DISCOVER_CHAR_BY_UUID_RSP: {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              ble_gattc_discover_char_rsp_t *char_rsp = (ble_gattc_discover_char_rsp_t *)param;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              int i;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;              if (BLE_STATUS_GATT_SUCCESS == char_rsp-&gt;result) {</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                  OS_Report(&quot;[GATT]Discover Character success-conn_id:%x-count:%d\n&quot;, char_rsp-&gt;conn_id, char_rsp-&gt;count);</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                  for (i = 0; i &lt; char_rsp-&gt;count; ++i) {</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                      OS_Report(&quot;[GATT]Discover Character: %d (handle:%x, value_handle:%x)\n&quot;, i, char_rsp-&gt;char_info[i].handle, char_rsp-&gt;char_info[i].value_handle);</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;                  }</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;              } else if (BLE_STATUS_GATT_CONNECTION_DISCONNECT != char_rsp-&gt;result) {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;                  OS_Report(&quot;[GATT]Discover Character fail-conn_id:%x-error:%x-handle:%x&quot;, char_rsp-&gt;conn_id, char_rsp-&gt;result, char_rsp-&gt;char_info[0].handle);</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;              }</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;          }</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;          break;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;      }</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga7e8ee82c39667d7887f4e83d78d60594"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_discover_descriptors </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>start_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>end_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000085">Deprecated:</a></b></dt><dd>Client sends a request to discover descriptors from server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start_handle</td><td>is start handle, e.g.: 0x0001. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">end_handle</td><td>is end handle e.g.: 0xFFFF. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t start_handle = 0x0001;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;uint16_t end_handle = 0xFFFF;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;status = ble_gattc_discover_descriptors(conn_id, start_handle, end_handle);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;{</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;          case BLE_GATTC_DISCOVER_DESCRIPTORS_RSP: {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              ble_gattc_discover_descriptor_rsp_t *rsp = (ble_gattc_discover_descriptor_rsp_t *)param;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              int i;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              if (BLE_STATUS_GATT_SUCCESS == rsp-&gt;result) {</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                  OS_Report(&quot;[GATT]Discover Descriptor success-conn_id:%x-count:%d\n&quot;, rsp-&gt;conn_id, rsp-&gt;count);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                  for (i = 0; i &lt; rsp-&gt;count; ++i) {</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                      OS_Report(&quot;[GATT]Discover Descriptor: %d-handle:%x\n&quot;, i, rsp-&gt;descr[i].handle);</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                  }</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;              } else if (BLE_STATUS_GATT_CONNECTION_DISCONNECT != rsp-&gt;result) {</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;                  OS_Report(&quot;[GATT]Discover Descriptor fail-conn_id:%x-error:%2x-handle:%2x&quot;, rsp-&gt;conn_id, rsp-&gt;result, rsp-&gt;descr[0].handle);</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;              }</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;          }</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;          break;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;      }</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga40e889ebb86db8f15c67509a763d353f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_discover_primary_services </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>start_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>end_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000080">Deprecated:</a></b></dt><dd>Client sends a request to discover primary services from server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start_handle</td><td>is start handle, e.g.: 0x0001. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">end_handle</td><td>is end handle e.g.: 0xFFFF. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga9366245043059770d8d79d02500754ff">ble_gattc_discover_primary_services_by_uuid()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t start_handle = 0x0001;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;uint16_t  end_handle = 0xFFFF;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;ble_gattc_discover_primary_services(conn_id, start_handle, end_handle);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;{</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;          case BLE_GATTC_DISCOVER_PRIMARY_SERVICES_RSP: {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              ble_gattc_discover_service_rsp_t *srvc_rsp = (ble_gattc_discover_service_rsp_t *)param;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              int i;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              if (BLE_STATUS_GATT_SUCCESS == srvc_rsp-&gt;result) {</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                  OS_Report(&quot;[GATT]Discover Primary Service success-conn_id:%x-count:%d\n&quot;, srvc_rsp-&gt;conn_id, srvc_rsp-&gt;count);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                  for (i = 0; i &lt; srvc_rsp-&gt;count; ++i) {</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                      OS_Report(&quot;[GATT]Discover Primary Service: %d (start:%x, end:%x)\n&quot;, i, srvc_rsp-&gt;service[i].start_handle, srvc_rsp-&gt;service[i].end_handle);</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                  }</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;              } else {</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;                      OS_Report(&quot;[GATT]Discover Primary Service fail-conn_id:%x-error:%x-handle:%x&quot;, srvc_rsp-&gt;conn_id, srvc_rsp-&gt;result, srvc_rsp-&gt;service[0].start_handle);</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;              }</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;          }</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;          break;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;      }</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga9366245043059770d8d79d02500754ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_discover_primary_services_by_uuid </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>start_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>end_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>uuid128</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000081">Deprecated:</a></b></dt><dd>Client sends a request to discover primary services by specification UUID from server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start_handle</td><td>is start handle, e.g.: 0x0001. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">end_handle</td><td>is end handle e.g.: 0xFFFF. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid128</td><td>is 128-bit UUID data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga40e889ebb86db8f15c67509a763d353f">ble_gattc_discover_primary_services()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t start_handle = 0x0001;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;uint16_t  end_handle = 0xFFFF;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;uint8_t uuid128[16] = {0xfb, 0x34, 0x9b, 0x5f, 0x80, 0x00, 0x00, 0x80, 0x00, 0x10, 0x00, 0x00, 0x0d, 0x18, 0x00, 0x00};</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;ble_gattc_discover_primary_services_by_uuid(conn_id, start_handle, end_handle, uuid128);</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;{</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;          case BLE_GATTC_DISCOVER_PRIMARY_SERVICES_RSP: {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              ble_gattc_discover_service_rsp_t *srvc_rsp = (ble_gattc_discover_service_rsp_t *)param;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              int i;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;              if (BLE_STATUS_GATT_SUCCESS == srvc_rsp-&gt;result) {</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                  OS_Report(&quot;[GATT]Discover Primary Service success-conn_id:%x-count:%d\n&quot;, srvc_rsp-&gt;conn_id, srvc_rsp-&gt;count);</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                  for (i = 0; i &lt; srvc_rsp-&gt;count; ++i) {</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                      OS_Report(&quot;[GATT]Discover Primary Service: %d (start:%x, end:%x)\n&quot;, i, srvc_rsp-&gt;service[i].start_handle, srvc_rsp-&gt;service[i].end_handle);</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;                  }</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;              } else {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;                  OS_Report(&quot;[GATT]Discover Primary Service fail-conn_id:%x-error:%x-handle:%x&quot;, srvc_rsp-&gt;conn_id, srvc_rsp-&gt;result, srvc_rsp-&gt;service[0].start_handle);</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;              }</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;          }</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;          break;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;      }</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga3850ebfbf06c2f668776915ea56a6e70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_execute_write </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>is_execute</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000095">Deprecated:</a></b></dt><dd>Client sends an execute write request to complete write long characteristic or descriptor value to server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">is_execute</td><td>is execute(1) or cancel(0) the write operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga105da84e4828ff9c6ab4381994c2b8da">ble_gattc_prepare_write()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server.<br />
 And user needs to call <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga105da84e4828ff9c6ab4381994c2b8da">ble_gattc_prepare_write()</a> to prepare the write process. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t handle = 0x308;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ble_gattc_prepare_write(conn_id, handle, 1, 5, &quot;HELLO&quot;, 0);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;// Call #ble_gattc_write_descriptor_value() more times to prepare the left data to write.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;ble_gattc_execute_write(conn_id , 1); // Finally, call this API to execute the write.</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;{</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;          case BLE_GATTC_EXECUTE_WRITE_RSP: {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              ble_gattc_execute_write_rsp_t *rsp = (ble_gattc_execute_write_rsp_t *)param;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              OS_Report(&quot;[GATT]Execute write response, conn_id:%x, handle:%x, result:%d&quot;, rsp-&gt;conn_id, rsp-&gt;handle, rsp-&gt;result);</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;          }</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;          break;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;      }</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga87d75115805a54c7ed38aae02ea9f593"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_find_included_services </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>start_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>end_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000082">Deprecated:</a></b></dt><dd>Client sends a request to find included services from server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start_handle</td><td>is start handle, e.g.: 0x0001. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">end_handle</td><td>is end handle e.g.: 0xFFFF. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE devices is connected, and conn_id has been obtained from BLE_GAP at step 1</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t start_handle = 0x0001;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;uint16_t end_handle = 0xFFFF;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;ble_gattc_find_included_services(conn_id, start_handle, end_handle);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;{</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;          case BLE_GATTC_FIND_INCLUDED_SERVICES_RSP: {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              ble_gattc_find_included_service_rsp_t *srvc_rsp = (ble_gattc_find_included_service_rsp_t *)param;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              int i;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              if (BLE_STATUS_GATT_SUCCESS == srvc_rsp-&gt;result) {</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                  OS_Report(&quot;[GATT]Find Included Service success-conn_id:%x-count:%d\n&quot;, srvc_rsp-&gt;conn_id, srvc_rsp-&gt;count);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                  for (i = 0; i &lt; srvc_rsp-&gt;count; ++i) {</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                      OS_Report(&quot;[GATT]Find Included Service: %d (attHandle: %x, start:%x, end:%x)\n&quot;, i, srvc_rsp-&gt;service[i].handle, srvc_rsp-&gt;service[i].service.start_handle, srvc_rsp-&gt;service[i].service.end_handle);</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                  }</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;              } else {</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;                  OS_Report(&quot;[GATT]Find Included Service fail-conn_id:%x-error:%x-handle:%x&quot;, srvc_rsp-&gt;conn_id, srvc_rsp-&gt;result, srvc_rsp-&gt;service[0].handle);</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;              }</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;          }</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;          break;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;      }</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga105da84e4828ff9c6ab4381994c2b8da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_prepare_write </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>is_reliable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000094">Deprecated:</a></b></dt><dd>Client sends a prepare request to write long characteristic or descriptor value to server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is handle of the characteristic value or descriptor to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>is the start written position for this write request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>is length of the data to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>is data to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">is_reliable</td><td>is for user setting: if set 1, user will check the written data in RSP, or set 0, user will not check the written data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga3850ebfbf06c2f668776915ea56a6e70">ble_gattc_execute_write()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server.<br />
 After calling this function, user needs to call <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga3850ebfbf06c2f668776915ea56a6e70">ble_gattc_execute_write()</a> to complete the write process. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t handle = 0x308;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ble_gattc_prepare_write(conn_id, handle, 1, 5, &quot;HELLO&quot;, 0);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;// Call #ble_gattc_prepare_write() more times for to prepare the left data to write.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;ble_gattc_execute_write(conn_id , 1); // Finally, call this API to execute the write.</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;{</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;          case BLE_GATTC_PREPARE_WRITE_RSP: {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              ble_gattc_prepare_write_rsp_t *rsp = (ble_gattc_prepare_write_rsp_t *)param;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              if (BLE_STATUS_GATT_SUCCESS == rsp-&gt;result) {</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                  // Call API to check the rsp-&gt;offset, rsp-&gt;length, rsp-&gt;is_reliable, rsp-&gt;value</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;              } else {</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                  OS_Report(&quot;[GATT]Prepare write  fail-conn_id:%x-error:%x&quot;, rsp-&gt;conn_id, rsp-&gt;result);</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;              }</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;          }</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;          break;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;     }</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga70afac7fd6f3c0f9ccda593e8542edec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_read_char_value </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000086">Deprecated:</a></b></dt><dd>Client sends a request to read characteristic value from server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is handle of a characteristic value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If success, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE devices is connected, and conn_id has been obtained from BLE_GAP at step 1</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t handle = 0x107;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ble_gattc_read_char_value(conn_id, handle);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;{</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;          case BLE_GATTC_READ_CHAR_VALUE_RSP: {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;              ble_gattc_read_char_value_rsp_t *rsp = (ble_gattc_read_char_value_rsp_t *)param;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              if (BLE_STATUS_GATT_SUCCESS == rsp-&gt;result) {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;                  OS_Report(&quot;[GATT]Read Character Value success-conn_id:%x-value:%s\n&quot;, rsp-&gt;conn_id, rsp-&gt;handle_value-&gt;value);</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              } else {</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                  OS_Report(&quot;[GATT]Read Character Value fail-conn_id:%x-error:%x&quot;, rsp-&gt;conn_id, rsp-&gt;result);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;              }</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;          }</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;          break;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;      }</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga944fb903c299b5c959ba861658d09919"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_read_char_value_by_uuid </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>start_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>end_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>uuid128</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000087">Deprecated:</a></b></dt><dd>Client sends request to read characteristic value from server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection id of BLE devices connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start_handle</td><td>is start handle, e.g.: 0x0001. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">end_handle</td><td>is end handle e.g.: 0xFFFF. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid128</td><td>is 128-bit UUID data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t start_handle = 0x0001;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;uint16_t end_handle = 0xFFFF;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;uint8_t name_uuid[] = {0xfb, 0x34, 0x9b, 0x5f, 0x80, 0x00, 0x00, 0x80, 0x00, 0x10, 0x00, 0x00, 0x00, 0x2a, 0x00, 0x00};</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;ble_gattc_read_char_value(conn_id, start_handle, end_handle, name_uuid);</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;{</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;          case BLE_GATTC_READ_CHAR_VALUE_BY_UUID_RSP: {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              ble_gattc_read_char_value_rsp_t *rsp = (ble_gattc_read_char_value_rsp_t *)param;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              OS_Report(&quot;[GATTC]ReadCharValueByUUIDRsp-conn_id:%x-result:%x&quot;, rsp-&gt;conn_id, rsp-&gt;result);</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;              if (BLE_STATUS_GATT_SUCCESS == rsp-&gt;result) {</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                  OS_Report(&quot;[GATTC]ReadCharValueByUUIDRsp Content:\n\t%s&quot;, rsp-&gt;handle_value-&gt;value);</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;              }</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;          }</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;          break;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;      }</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="gaec243ece8b66479b40f2dff2dba22ddb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_read_descriptor_value </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000091">Deprecated:</a></b></dt><dd>Client sends a request to read characteristic descriptor from server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is handle of a characteristic descriptor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t handle = 0x311;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ble_gattc_read_descriptor_value(conn_id, handle);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;{</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;          case BLE_GATTC_READ_CHAR_VALUE_RSP: {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;              ble_gattc_read_char_descriptor_rsp_t *rsp = (ble_gattc_read_char_descriptor_rsp_t *)param;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              if (BLE_STATUS_GATT_SUCCESS == rsp-&gt;result) {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;                  OS_Report(&quot;[GATTC]ReadDescriptorRsp Content:\n\t%s&quot;, rsp-&gt;handle_value-&gt;value);</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              } else {</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                  OS_Report(&quot;[GATT]Read Descriptor  fail-conn_id:%x-error:%x&quot;, rsp-&gt;conn_id, rsp-&gt;result);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;              }</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;          }</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;          break;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;     }</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga5d0915154c82a37c2067986366260cef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_read_long_char_value </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000088">Deprecated:</a></b></dt><dd>Client sends a request to read long characteristic value from server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the characteristic value handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>is the start position to read for this request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t handle = 0x108;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;uint8_t offset = 30;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;ble_gattc_read_long_char_value(conn_id, handle, offset);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;{</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;          case BLE_GATTC_READ_LONG_CHAR_VALUE_RSP: {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              ble_gattc_read_char_value_rsp_t *rsp = (ble_gattc_read_char_value_rsp_t *)param;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              OS_Report(&quot;[GATTC]ReadLongCharValueRsp-conn_id:%x-result:%x&quot;, rsp-&gt;conn_id, rsp-&gt;result);</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              if (BLE_STATUS_GATT_SUCCESS == rsp-&gt;result) {</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                  OS_Report(&quot;[GATTC]ReadLongCharValueRsp Offset:%d, Content:\n\t%s&quot;, rsp-&gt;offset, rsp-&gt;handle_value-&gt;value);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;              }</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;          }</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;          break;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;      }</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga31b8ebe742ad3894c6decd3c141a0ff8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_read_long_descriptor_value </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000092">Deprecated:</a></b></dt><dd>Client sends a request to read long descriptor value from server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the descriptor handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>is the start position to read for this request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t handle = 0x312;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;uint8_t offset = 30;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;ble_gattc_read_long_descriptor_value(conn_id, handle, offset);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;{</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;          case BLE_GATTC_READ_LONG_CHAR_VALUE_RSP: {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              ble_gattc_read_char_descriptor_rsp_t *rsp = (ble_gattc_read_char_descriptor_rsp_t *)param;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              OS_Report(&quot;[GATTC]ReadLongDescriptorValueRsp-conn_id:%x-result:%x&quot;, rsp-&gt;conn_id, rsp-&gt;result);</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              if (BLE_STATUS_GATT_SUCCESS == rsp-&gt;result) {</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                  OS_Report(&quot;[GATTC]ReadLongDescriptorValueRsp Offset:%d, Content:\n\t%s&quot;, rsp-&gt;offset, rsp-&gt;handle_value-&gt;value);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;              }</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;          }</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;          break;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;      }</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="gad6fe142d28461d5e21c1b186ec711403"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_read_multiple_char_value </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t *&#160;</td>
          <td class="paramname"><em>handles</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000089">Deprecated:</a></b></dt><dd>Client sends a request to read multiple characteristics value from server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>is count of handles, max support 7 handles. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handles</td><td>is a characteristics value handle list. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t count = 2;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;uint16_t handles[] = {0x0104, 0x0109};</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;ble_gattc_read_multiple_char_value(conn_id, count, handles);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;{</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;          case BLE_GATTC_READ_MULTIPLE_CHAR_VALUE_RSP: {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              uint8_t char1[4];</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              ble_gattc_read_multiple_char_value_rsp_t *rsp = (ble_gattc_read_multiple_char_value_rsp_t *)param;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              OS_Report(&quot;[GATTC]ReadMultiCharValueRsp-conn_id:%x-result:%x&quot;, rsp-&gt;conn_id, rsp-&gt;result);</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;              if (BLE_STATUS_GATT_SUCCESS == rsp-&gt;result) {</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                  OS_Report(&quot;[GATTC]ReadMultiCharValueRsp value length:%d&quot;, rsp-&gt;length);</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                  //User should know the length for each characteristic value.</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                  // e.g.: if the characteristic value is 4 bytes</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;                  OS_MemCpy(char1, rsp-&gt;value, 4);</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;              }</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;          }</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;          break;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;      }</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga480f2b0c6c14ee9aa4a90f8147187450"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_send_handle_value_confirmation </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000096">Deprecated:</a></b></dt><dd>Client sends a characteristic handle value confirmation after receiving indication from server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is characteristic value handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server.<br />
 And user needs to call <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga105da84e4828ff9c6ab4381994c2b8da">ble_gattc_prepare_write()</a> to prepare the write process. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t handle = 0x308;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ble_gattc_send_handle_value_confirmation(conn_id, handle);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;{</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;      switch (event_id) {.</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;          case BLE_GATTC_HANDLE_VALUE_NOTIFICATION:</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;          case BLE_GATTC_HANDLE_VALUE_IND: {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              ble_gattc_handle_value_ind_t *hvx = (ble_gattc_handle_value_ind_t *)param;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              OS_Report(&quot;[GATTC]HandleValue conn_id:%x, handle:%x, type:%d, data:%s&quot;, hvx-&gt;conn_id, hvx-&gt;handle, hvx-&gt;type, hvx-&gt;data);</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              if (BLE_GATT_HVX_INDICATION == hvx-&gt;type) {</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                  ble_gattc_send_handle_value_confirmation(conn_id, hvx-&gt;handle);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;              }</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;              break;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;          }</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;     }</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga1648d37381dfc8fb0d0ecda55dcf3de0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_write_char_value </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___b_a___bluetoothble__gatt__enum.html#ga9cb4cf8a0c95c7882256c11807621375">ble_gatt_write_type_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000090">Deprecated:</a></b></dt><dd>Client sends a request to write characteristic value to server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>is the type for write characteristic value request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the characteristic value handle to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>is the size of characteristic value to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>is the characteristic value data to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t handle = 0x109;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ble_gattc_write_char_value(conn_id, BLE_GATT_WRITE_COMMAND, handle, 6, &quot;abcdef&quot;);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;{</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;          case BLE_GATTC_READ_CHAR_VALUE_RSP: {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;              ble_gattc_write_rsp_t *rsp = (ble_gattc_write_rsp_t *)param;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              OS_Report(&quot;[GATTC]WriteCharValueRsp conn_id:%x, handle:%x, result:%d&quot;, rsp-&gt;conn_id, rsp-&gt;handle, rsp-&gt;result);</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;          }</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;          break;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;     }</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="gad55e7e5320eb52ba6aa1bdf842fb2855"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gattc_write_descriptor_value </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000093">Deprecated:</a></b></dt><dd>Client sends a request to write characteristic descriptor to server.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is handle of the characteristic descriptor to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>is length of the characteristic descriptor data to write . </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>is the characteristic descriptor data to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga5936b180f1c5719704ced81808c0e8fc">ble_gattc_common_callback()</a> API is implemented to handle the events sent by GATT server. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// BLE device is connected, and conn_id is obtained from BLE_GAP at step 1.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t handle = 0x311;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ble_gattc_write_descriptor_value(conn_id, handle);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;void ble_gattc_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;{</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;          case BLE_GATTC_WRITE_DESCRIPTOR_RSP: {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;              ble_gattc_write_rsp_t *rsp = (ble_gattc_write_rsp_t *)param;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              OS_Report(&quot;[GATT]WriteDescrRsp, conn_id:%x, handle:%x, result:%d&quot;, rsp-&gt;conn_id, rsp-&gt;handle, rsp-&gt;result);</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;          }</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;          break;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;     }</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="gab61f5a87e396374e471e5de87e76d16e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gatts_add_char </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>service_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structble__gatt__char__t.html">ble_gatt_char_t</a> *&#160;</td>
          <td class="paramname"><em>char_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>permission</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>value_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000099">Deprecated:</a></b></dt><dd>Server adds characteristic to the service.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">service_handle</td><td>is the existing service handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">char_info</td><td>is the info of characteristic to be added. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">permission</td><td>is the characteristic permission type, see also <a class="el" href="group___b_a___bluetoothbt__gatt__define.html#gaf5d6a6de6e7b84cf6891a9f6d3172c26" title="If set, permits the client to read the characteristic value. ">BLE_GATT_PERM_READ</a>,etc. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value_handle</td><td>is the ATT handle of the characteristic declaration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gae302607e33c7e39a0d411c3df227c039">ble_gatts_add_service()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>There should be one existing service that can add characteristic. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ble_status_t status;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;ble_gatt_char_t hrm_char;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;static const uint8_t hrm_uuid128[] = {0xfb, 0x34, 0x9b, 0x5f, 0x80, 0x00, 0x00, 0x80, 0x00, 0x10, 0x00, 0x00, 0x37, 0x2a, 0x00, 0x00};</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;OS_MemCpy(hrm_char.uuid, hrm_uuid128, 16);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;hrm_char.properties = BLE_GATT_CHAR_PROP_NOTIFY;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;// hr_svc_handle is service handle in #ble_gatts_add_service().</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;status = ble_gatts_add_char(hr_svc_handle, &amp;hrm_char, BLE_GATT_PERM_WRITE | BLE_GATT_PERM_READ, &amp;hrm_char.value_handle);</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;if (status == BLE_STATUS_GATT_SUCCESS) {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    // Request has queued to send, wait for a confirmation from server.</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;} else if (status == BLE_STATUS_GATT_NO_RESOURCES) {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    // There is no resource to send the request.</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;} else if (status == BLE_STATUS_GATT_INVALID_PARAM) {</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    // Input param size or value is invalid.</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="gaea6c06c59c7e323f3974bf85c0c8b41f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gatts_add_descriptor </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>service_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structble__gatt__descriptor__t.html">ble_gatt_descriptor_t</a> *&#160;</td>
          <td class="paramname"><em>descr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>permission</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000100">Deprecated:</a></b></dt><dd>Server adds characteristic descriptor to the service.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">service_handle</td><td>is the existing service handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descr</td><td>is the info of characteristic descriptor to be added. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">permission</td><td>is the characteristic permission type, see also <a class="el" href="group___b_a___bluetoothbt__gatt__define.html#gaf5d6a6de6e7b84cf6891a9f6d3172c26" title="If set, permits the client to read the characteristic value. ">BLE_GATT_PERM_READ</a>,etc. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>is the ATT handle of the characteristic descriptor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gae302607e33c7e39a0d411c3df227c039">ble_gatts_add_service()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>There should be one existing service that can add characteristic, descriptor will be added to the last characteristic of the given service_handle. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ble_status_t status;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;ble_gatt_descriptor_t hrccc;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;static const uint8_t hrccc_uuid128[] = {0xfb, 0x34, 0x9b, 0x5f, 0x80, 0x00, 0x00, 0x80, 0x00, 0x10, 0x00, 0x00, 0x02, 0x29, 0x00, 0x00};</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;OS_MemCpy(hrccc.uuid, hrccc_uuid128, 16);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;// hr_svc_handle is service handle in #ble_gatts_add_service().</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;status = ble_gatts_add_descriptor(hr_svc_handle, &amp;hrccc, BLE_GATT_PERM_WRITE | BLE_GATT_PERM_READ, &amp;hrccc.handle);</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;if (status == BLE_STATUS_GATT_SUCCESS) {</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    // Request has queued to send, wait for a confirmation from server.</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;} else if (status == BLE_STATUS_GATT_NO_RESOURCES) {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    // There is no resource to send the request.</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;} else if (status == BLE_STATUS_GATT_INVALID_PARAM) {</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    // Input param size or value is invalid.</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga9a7d4e4b0e1dee2d04193cf525d5e605"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gatts_add_included_service </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>service_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>include_service_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000098">Deprecated:</a></b></dt><dd>Server adds include service to the service.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">service_handle</td><td>is handle of the service that the include service will be added to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">include_service_handle</td><td>is handle of the include service to be added. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>is the ATT handle of the included service declaration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gae302607e33c7e39a0d411c3df227c039">ble_gatts_add_service()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>There should be two existing services, one is included service, another is the service to reference the included service. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ble_status_t status;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;static const uint8_t hr_uuid128[] = {0xfb, 0x34, 0x9b, 0x5f, 0x80, 0x00, 0x00, 0x80, 0x00, 0x10, 0x00, 0x00, 0x0d, 0x18, 0x00, 0x00};</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;status = ble_gatts_add_service(BLE_GATT_SERVICE_PRIMARY, hr_uuid128, 9, &amp;hr_svc_handle);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;// hr_svc_handle1 is another existing service.</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;status = ble_gatts_add_included_service(hr_svc_handle, hr_svc_handle1, &amp;hr_svc_inc_handle);</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;if (status == BLE_STATUS_GATT_SUCCESS) {</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    // Request has queued to send, wait for a confirmation from server.</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;} else if (status == BLE_STATUS_GATT_NO_RESOURCES) {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    // There is no resource to send the request.</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;} else if (status == BLE_STATUS_GATT_INVALID_PARAM) {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    // Input param size or value is invalid.</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="gae302607e33c7e39a0d411c3df227c039"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gatts_add_service </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___b_a___bluetoothble__gatt__enum.html#ga017e656ba5c762fa1d36587949d3f56c">ble_gatt_service_type_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>uuid128</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>num_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000097">Deprecated:</a></b></dt><dd>Server uses <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gae302607e33c7e39a0d411c3df227c039">ble_gatts_add_service()</a> to add a service.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>is the service type to be added. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid128</td><td>is 128 bit UUID of the service. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_handle</td><td>is the number of attribute in this service (such as, service declaration/include declaration/characteristic declaration/descriptor declaration, and etc.) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>is the ATT handle of the service declaration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Should be added before BLE device is connected, if devices already connected, server must notify client that service changed. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ble_status_t status;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;static const uint8_t hr_uuid128[] = {0xfb, 0x34, 0x9b, 0x5f, 0x80, 0x00, 0x00, 0x80, 0x00, 0x10, 0x00, 0x00, 0x0d, 0x18, 0x00, 0x00};</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;status = ble_gatts_add_service(BLE_GATT_SERVICE_PRIMARY, hr_uuid128, 9, &amp;hr_svc_handle);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if (status == BLE_STATUS_GATT_SUCCESS) {</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    // Request has queued to send, wait for a confirmation from server.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;} else if (status == BLE_STATUS_GATT_NO_RESOURCES) {</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    // There is no resource to send the request.</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;} else if (status == BLE_STATUS_GATT_INVALID_PARAM) {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    // Input param size or value is invalid.</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga61cd4baecdb34ea599d649f511e93034"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ble_gatts_common_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___b_a___bluetoothble__events__enum.html#gacfdd3b8f3b7fac98bc2fe221de579bad">ble_event_t</a>&#160;</td>
          <td class="paramname"><em>event_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000108">Deprecated:</a></b></dt><dd>Static callback for GATT server user to listen event from client, server user needs to implement this API.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event_id</td><td>is notification sent by GATT client. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>is parameter pointer as per the events. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="ga743e46fa914366e6c1be0a7d49eccc40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gatts_execute_write_response </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000106">Deprecated:</a></b></dt><dd>Server sends a response for execute write request from client.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">result</td><td>is execute write result, such as <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, etc. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the characteristic value or descriptor handle to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga02aba578a2d0d4ed2b300634385b96d6">ble_gatts_prepare_write_response()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga61cd4baecdb34ea599d649f511e93034">ble_gatts_common_callback()</a> API is implemented to handle the events sent by GATT client. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Call after receiving write request event.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;void ble_gatts_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;{</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;          case BLE_GATTS_EXECUTE_WRITE_REQ: {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;              ble_gatts_execute_write_req_t *write_req = (ble_gatts_execute_write_req_t *)param;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;              OS_Report(&quot;[GATTS] execute Write req conn_id:%d is_execute:%d\n&quot;, write_req-&gt;conn_id, write_req-&gt;is_execute);</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;              // Profiles should finally execute save data or not, according to the flag write_req-&gt;is_execute.</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;              ble_gatts_execute_write_response(conn_id, BLE_STATUS_GATT_SUCCESS, write_handle);</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              break;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;      }</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;      }</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga02aba578a2d0d4ed2b300634385b96d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gatts_prepare_write_response </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000105">Deprecated:</a></b></dt><dd>Server sends a response for prepare write request from client.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">result</td><td>is prepare write result, such as <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, etc. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the characteristic value or descriptor handle to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>is characteristic value data offset for write long characteristic value request, or will be 0 for other request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga743e46fa914366e6c1be0a7d49eccc40">ble_gatts_execute_write_response()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga61cd4baecdb34ea599d649f511e93034">ble_gatts_common_callback()</a> API is implemented to handle the events sent by GATT client. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Call after receiving write request event.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;void ble_gatts_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;{</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;          case BLE_GATTS_WRITE_REQ: {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;              ble_gatts_write_req_t *write_req = (ble_gatts_write_req_t *)param;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;              OS_Report(&quot;[GATTS]Write_req1 conn_id:%d write_type:%d\n&quot;, write_req-&gt;conn_id, write_req-&gt;flags);</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;              OS_Report(&quot;[GATTS]Write_req2 handle:%x offset:%d is_prepare:%d\n&quot;, write_req-&gt;handle, write_req-&gt;offset, write_req-&gt;is_prepare);</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;              OS_Report(&quot;[GATTS]Write_req3 length:%d data:%s\n&quot;, write_req-&gt;length, write_req-&gt;data);</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              // Profiles should save data to temp buffer first, then processed data by received next request #BLE_GATTS_EXECUTE_WRITE_REQ.</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              ble_gatts_prepare_write_response(conn_id, BLE_STATUS_GATT_SUCCESS, write_req-&gt;handle, write_req-&gt;offset);</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              break;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;      }</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;      }</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga8132460cc25f32f934be20621a5c9146"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gatts_read_response </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000103">Deprecated:</a></b></dt><dd>Server sends a response for read request from client.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">result</td><td>is read result, such as <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, etc. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the characteristic value or descriptor handle to read. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>is characteristic value data offset for read long characteristic value request, or will be 0 for other read request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>is the data length of the characteristic value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>is the data of the characteristic value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga61cd4baecdb34ea599d649f511e93034">ble_gatts_common_callback()</a> API is implemented to handle the events sent by GATT client. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Call after receiving read request event.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;void ble_gatts_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;{</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;          case BLE_GATTS_READ_REQ: {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;              ble_gatts_read_req_t *read_req = (ble_gatts_read_req_t *)param;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;              int a;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;              OS_Report(&quot;[GATTS]Read_req conn_id:%x count:%d offset:%d\n&quot;, read_req-&gt;conn_id, read_req-&gt;count, read_req-&gt;offset);</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;              for (a = 0; a &lt; read_req-&gt;count; ++a) {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;                  OS_Report(&quot;[GATTS]Read_req handle[%d]:%x\n&quot;, a, read_req-&gt;handle[a]);</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              }</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              // Profiles should construct data to response.</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;              ble_gatts_read_response(conn_id, BLE_STATUS_GATT_SUCCESS, read_req-&gt;handle[0], read_req-&gt;offset, 4, &quot;HEHE&quot;);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;              break;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;      }</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;      }</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="gaacc9df3f6ce300b1c5a6bbee28ca609c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gatts_send_handle_value_indication </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>need_confirm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>value_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000102">Deprecated:</a></b></dt><dd>Server sends handle value indication or notification to client.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is handle of a characteristic. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">need_confirm</td><td>is used for indication (= 1) or notification (= 0). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value_len</td><td>is the size of characteristic value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>is the data of characteristic value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gae302607e33c7e39a0d411c3df227c039">ble_gatts_add_service()</a>, <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gab61f5a87e396374e471e5de87e76d16e">ble_gatts_add_char()</a>, <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gaea6c06c59c7e323f3974bf85c0c8b41f">ble_gatts_add_descriptor</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>There should be one existing service that can add characteristic, descriptor will be added to the last characteristic of the given service_handle. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ble_status_t status;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t value_handle = 0x312;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;status = ble_gatts_send_handle_value_indication(conn_id, value_handle, 1, 4, &quot;1122&quot;);  // For indication, need confirm.</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;// ble_gatts_send_handle_value_indication(conn_id, character.value_handle, 0, 3, &quot;123&quot;); // For notification, no need confirm.</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;if (status == BLE_STATUS_GATT_PENDING) {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    // Request has queued to send, wait for a confirmation from server.</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;} else if (status == BLE_STATUS_GATT_NO_CONNECTION) {</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    // No GATT connection for such conn_id.</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;} else if (status == BLE_STATUS_GATT_NO_RESOURCES) {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    // There is no resource to send the request.</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;} else if (status == BLE_STATUS_GATT_FAILED) {</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    // Input param size or value is invalid.</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;void ble_gatts_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;{</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;          case BLE_GATTS_HANDLE_VALUE_CNF: {</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;              ble_gatts_handle_value_cnf_t * hvc = (ble_gatts_handle_value_cnf_t *)param;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;              OS_Report(&quot;[GATTS]Received confirmation to handle:%x, result:%d, conn_id:%d&quot;, hvc-&gt;handle, hvc-&gt;result, hvc-&gt;conn_id);</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;              break;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;      }</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;      }</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="gaf722e71f1112914a741d9aca0cbe54f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gatts_send_service_change_indication </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000101">Deprecated:</a></b></dt><dd>Server uses to send service change indication.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the ATT handle of the service declaration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#gae302607e33c7e39a0d411c3df227c039">ble_gatts_add_service()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If devices already connected, server must notify client that service has changed. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ble_status_t status;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint16_t     hr_svc_handle = 0x1122;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;status = ble_gatts_send_service_change_indication(hr_svc_handle);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if (status == BLE_STATUS_GATT_SUCCESS) {</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    // Request has queued to send, wait for a confirmation from client.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;} else if (status == BLE_STATUS_GATT_NO_RESOURCES) {</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    // There is no resource to send the request.</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;} else if (status == BLE_STATUS_GATT_INVALID_PARAM) {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    // Input param size or value is invalid.</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga19f37686f8355504f110e8e250c2b0af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a> ble_gatts_write_response </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___b_a___bluetoothble__status__enum.html#gae834c4fd568eace4e2ab307e8905ab7d">ble_status_t</a>&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000104">Deprecated:</a></b></dt><dd>Server sends a response for write request from client.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>is the connection ID for a BLE device connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">result</td><td>is write result, such as <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, etc. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation was successful, the returned value is <a class="el" href="group___b_a___bluetoothble__status__enum.html#ggae834c4fd568eace4e2ab307e8905ab7dae62d4aa68900a20a9aa40b7e32473ef5" title="The operation completed successfully. ">BLE_STATUS_GATT_SUCCESS</a>, otherwise the returned value is less than zero. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Before using this function, please make sure the BLE device is connected, and the <a class="el" href="group___b_a___bluetooth_b_l_e_g_a_t_t.html#ga61cd4baecdb34ea599d649f511e93034">ble_gatts_common_callback()</a> API is implemented to handle the events sent by GATT client. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Call after receiving write request event</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;ble_status_t status;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;void ble_gatts_common_callback(ble_event_t event_id, const void *param)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;{</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;      switch (event_id) {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;          case BLE_GATTS_WRITE_REQ: {</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;              ble_gatts_write_req_t *write_req = (ble_gatts_write_req_t *)param;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;              OS_Report(&quot;[GATTS]Write_req1 conn_id:%d write_type:%d\n&quot;, write_req-&gt;conn_id, write_req-&gt;flags);</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;              OS_Report(&quot;[GATTS]Write_req2 handle:%x offset:%d is_prepare:%d\n&quot;, write_req-&gt;handle, write_req-&gt;offset, write_req-&gt;is_prepare);</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              OS_Report(&quot;[GATTS]Write_req3 length:%d data:%s\n&quot;, write_req-&gt;length, write_req-&gt;data);</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              // Profiles should save data.</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;              ble_gatts_write_response(conn_id, BLE_STATUS_GATT_SUCCESS);</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;              break;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;           }</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;      }</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Sep 2 2016 12:26:00 for BA Bluetooth API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
